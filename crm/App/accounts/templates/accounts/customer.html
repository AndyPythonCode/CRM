{% extends 'accounts/main.html' %}

{% block content %}
<br>

<div class="row">
    <!--Uno-->
    <div class="col-md">
        <div class="card card-body">
            <h5 class="card-title">Customer</h5>
            <hr>
            <a class="btn my-2 btn-outline-info btn-sm btn-block" href="#">Update Customer</a>
            <a class="btn btn-outline-info btn-sm btn-block" href="{% url 'accounts:order_created' customers.id %}">Place New Order</a>
        </div>

    </div>
    <!--Dos-->
    <div class="col-md">
        <div class="card card-body">
            <h5 class="card-title">Contact Information</h5>
            <hr>
            <p class="font-weight-light"><b>Email: </b>{{customers.email}}</p>
            <p class="font-weight-light"><b>Phone: </b>{{customers.phone}}</p>
        </div>
    </div>
    <!--Tres-->
    <div class="col-md">
        <div class="card card-body">
            <h5 class="card-title">Total Orders</h5>
            <hr>
            <h1 class="text-center py-2">{{total_orders}}</h1>
        </div>
    </div>
</div>

<br>

<div class="row">
    <div class="col-md">
        <div class="card card-body">
        <h5 class="card-title">Filter Data</h5>
        <hr>
            <form action="" method="GET">
                {{filter.form.as_p}}
                <button class="btn btn-primary" type="submit">Search</button>
                <a class="btn btn-warning" href="{% url 'accounts:customer' customers.id %}">Reset</a>
            </form>
        </div>
    </div>
</div>

<br>

<div class="row">
    <div class="col-md">
        <div class="card card-body">
            <table class="table table-borderless">
                <thead>
                    <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Category</th>
                        <th scope="col">Date Orderd</th>
                        <th scope="col">Status</th>
                        <th scope="col">Note</th>
                        <th scope="col">Update</th>
                        <th scope="col">Remove</th>
                    </tr>
                </thead>
                <tbody>
                {% for order in order %}
                <tr>
                    <td>{{order.product.name}}</td>
                    <td>{{order.product.category}}</td>
                    <td>{{order.date_created}}</td>
                    <td>{{order.status}}</td>
                    <td>{{order.note}}</td>
                    <td><a class="btn btn-outline-primary btn-sm" href="{% url 'accounts:order_updated' order.id%}">Update</a></td>
                    <td><a class="btn btn-outline-danger btn-sm" href="{% url 'accounts:order_delete' order.id %}">Remove</a></td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}